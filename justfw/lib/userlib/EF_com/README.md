# EF 上位机通信协议 v1.0

## 特性
- 基于串口的通信协议  
- 支持日志输出  
- 支持vofa+监视变量  
- 支持与上位机通信, 传输任意长度数据  
- 支持串口搜索  

## 数据包
### 日志数据
日志数据必然以0x1B 0x5B的形式开头(eazylogger默认输出带有颜色表示的字符串) 结尾处以换行符号`\n`结尾, 依据这个识别日志数据

### 数据包
数据包固定格式为: `帧头 | 命令2b | 数据长度2b | 数据 | 校验和1b`  

现在规定帧头为 `0xEF 0xFE`  

以下为命令码  

0x00 0x00 搜索串口  
上位机在数据区发送"Hello, STM32!", 单片机回复"HI! ..." 来实现串口的搜索

0x00 0x01 发送int32数据  
一般由单片机发出, 主要用于vofa+解析

0x00 0x02 发送float数据
一般由单片机发出, 主要用于vofa+解析
0x00 0x03 发送字符串数据

0x00 0x04 保留

0x00 0x05 发送自定义数据

注意: 数据长度不包含校验和, 只表示数据本身的长度
